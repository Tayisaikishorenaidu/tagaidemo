<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engineering Center Recruitment Portal</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body, html {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            height: 100%;
            overflow: hidden;
        }
.candidate{
background-color:white !important; 
    color:black !important; 
    border: 1px solid black !important; 
 
}

/* questions.css */
.container {
            width: 80%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 24px;
            color: #333333;
        }

        .header .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .nav-buttons button {
            padding: 10px 20px;
            background-color: #6c757d;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 14px;
            cursor: pointer;
        }

        .nav-buttons button:hover {
            background-color: #5a6268;
        }

        .role-selection {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .role-selection button {
            padding: 10px 20px;
            background-color: #ffffff;
            border: 1px solid #ced4da;
            border-radius: 5px;
            color: #333333;
            font-size: 14px;
            cursor: pointer;
            width: 109px;
            text-align: center;
            margin-left: 50px;
        }

        .role-selection button:hover {
            background-color: #f1f1f1;
        }

        .question-generation {
            width: 100%;
        }

        .question-generation select {
            width: 200px;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            margin-right: 10px;
        }

        .question-generation button {
            padding: 10px 20px;
            background-color: #6c757d;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 14px;
            cursor: pointer;
        }

        .question-generation button:hover {
            background-color: #5a6268;
        }

        .questions-list {
            margin-top: 20px;
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 10px;
        }

        .questions-list h3 {
            margin-bottom: 15px;
            color: #333333;
        }

        .questions-list .question-item {
            margin-bottom: 20px;
        }

        .questions-list textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 14px;
        }

        .submit-button {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .submit-button button {
            padding: 10px 20px;
            background-color: #6c757d;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 14px;
            cursor: pointer;
        }

        .submit-button button:hover {
            background-color: #5a6268;
        }

        /* Modal styling */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            text-align: center;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

       

  
        .progress-container {
            width: 100%;
            background-color: #f3f3f3;
            border-radius: 5px;
            margin-top: 20px;
            height: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #28a745;
            width: 0%;
            transition: width 0.4s ease;
        }
        /* questions.css */




        h1 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        h2 {
            font-size: 1.5rem;
            color: var(--secondary-color);
            margin-bottom: 1rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: black;
        }

        input[type="text"],
        input[type="number"],
        select,
        textarea {
            width: 95%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            width
            border-color: var(--primary-color);
        }

        .tabs {
            display: flex;
            overflow-x: auto;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .tab {
            padding: 0.75rem 1rem;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .tab.active {
            border-bottom: 3px solid var(--primary-color);
            color: var(--primary-color);
            font-weight: 600;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn:hover {
            opacity: 0.9;
        }

        .hidden {
            display: none;
        }








        #login-container {
            background-color: #1e1e1e;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            max-width:512px;
            width: 100%;
            margin: 100px auto;
        }

        #portal-container {
            display: none! important;
            height: 100vh;
            display: flex;
        }

        #sidebar {
            width: 250px;
            background-color: #1e1e1e;
            height: 100%;
            position: fixed;
            left: 0;
            top: 0;
            transition: all 0.3s ease;
            overflow-y: auto;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        #sidebar.collapsed {
            width: 60px;
        }

        #sidebar h2 {
            padding: 20px;
            margin-bottom: 0;
            text-align: center;
        }

        .sidebar-option {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
            position: relative;
        }

        .sidebar-option:hover, .sidebar-option.active {
            background-color: #2e2e2e;
        }

        .sidebar-option i {
            margin-right: 15px;
            width: 20px;
            text-align: center;
        }

        .sidebar-option span {
            white-space: nowrap;
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        #sidebar.collapsed .sidebar-option span {
            opacity: 0;
            width: 0;
            height: 0;
            overflow: hidden;
        }

        /* Tooltip styles */
        .sidebar-option::after {
            content: attr(data-tooltip);
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            background-color: #bb86fc;
            color: #121212;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease, left 0.3s ease;
            z-index: 1001;
        }

        #sidebar.collapsed .sidebar-option:hover::after {
            opacity: 1;
            left: 60px;
        }

        #content {
            margin-left: 250px;
            padding: 20px;
            overflow-y: auto;
            height: calc(100vh - 40px); /* Subtract padding from height */
            box-sizing: border-box;
            transition: margin-left 0.3s ease;
            flex-grow: 1;
        }

        #content.expanded {
            margin-left: 60px;
        }

        #sidebar-toggle {
            position: fixed;
            left: 90px;
            top: 10px;
            background-color: #bb86fc;
            color: #121212;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1001;
        }

        #sidebar-toggle.collapsed {
            left: 60px;
        }

        h1, h2 {
            color: #bb86fc;
            margin-bottom: 20px;
        }

        form {
            display: flex;
            flex-direction: column;
        }

        input, select, button {
            margin: 10px 0;
            padding: 12px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            background-color: #333;
            color: #e0e0e0;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            box-shadow: 0 0 0 2px #bb86fc;
        }

        button {
            cursor: pointer;
            background-color: #bb86fc;
            color: #121212;
            font-weight: bold;
            width: 275px;
    margin-left: 120px;
        }

        button:hover {
            background-color: #a370f7;
        }

        .dashboard-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background-color: #2e2e2e;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
            flex: 1 1 calc(25% - 15px); /* Adjust for 4 cards per row */
            min-width: 200px; /* Minimum width for smaller screens */
            max-width: calc(25% - 15px); /* Maximum width to maintain 4 per row */
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
        }

        .dashboard-card i {
            font-size: 36px;
            color: #bb86fc;
            margin-bottom: 10px;
        }

        .dashboard-card h3 {
            color: #bb86fc;
            margin: 0;
            font-size: 18px;
        }

        .dashboard-card p {
            font-size: 28px;
            font-weight: bold;
            margin: 10px 0 0;
            color: #03dac6;
        }

        .dashboard-charts {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }

        .dashboard-chart {
            background-color: #2e2e2e;
            border-radius: 8px;
            padding: 20px;
            flex: 1 1 calc(50% - 10px); /* Adjust for 2 charts per row */
            min-width: 300px; /* Minimum width for smaller screens */
        }

        .dashboard-chart h3 {
            color: #bb86fc;
            margin-top: 0;
            margin-bottom: 15px;
        }

        .chart-container {
            height: 300px;
        }

        .job-card-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .job-card {
            background-color: #2e2e2e;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(187, 134, 252, 0.1);
        }

        .job-card h3 {
            color: #bb86fc;
            margin-top: 0;
        }

        .job-card p {
            font-size: 14px;
            color: #b0b0b0;
            margin-bottom: 15px;
        }

        .job-card button {
            width: 100%;
            padding: 10px;
            font-size: 14px;
margin-left: 1px;
            
        }

        .panel-section ul {
            list-style-type: none;
            padding: 0;
        }

        .panel-section {
            background-color: #2e2e2e;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .panel-section h3 {
            color: #bb86fc;
            margin-top: 0;
        }

        .panel-section p, .panel-section li {
            line-height: 1.6;
        }

        .panel-section li {
            margin-bottom: 10px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }

        .modal-content {
            background-color: #2e2e2e;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 70%;
            max-width: 700px;
            border-radius: 8px;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover, .close:focus {
            color: #bb86fc;
        }

        #jd-content h2 {
            color: #bb86fc;
            margin-top: 0;
        }

        #jd-content p, .panel-section p {
            line-height: 1.6;
        }

        #content > div {
            display: none;
        }

        #content > div.active {
            display: block;
        }

        /* Interview Page Styles */
        .interview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .filters {
            display: flex;
            gap: 10px;
        }

        .filter-select, .time-range {
            padding: 5px 10px;
            border-radius: 4px;
            background-color: #2e2e2e;
            color: #e0e0e0;
            border: 1px solid #bb86fc;
        }

        .kanban-board {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding-bottom: 20px;
        }

        .kanban-column {
            background-color: #2e2e2e;
            border-radius: 8px;
            min-width: 250px;
            max-width: 250px;
        }

        .kanban-column-header {
            background-color: #bb86fc;
            color: #121212;
            padding: 10px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            font-weight: bold;
        }

        .kanban-column-content {
            padding: 10px;
            min-height: 100px;
        }

        .kanban-card {
            background-color: #3e3e3e;
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 10px;
        }

        .kanban-card h4 {
            margin: 0 0 5px 0;
            color: #03dac6;
        }

        .kanban-card p {
            margin: 0;
            font-size: 14px;
        }

        /* Technical Panel Page Styles */
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #portal-container {
            height: 100vh;
            display: flex;
        }

        #sidebar {
            width: 250px;
            height: 100%;
            overflow-y: auto;
        }

        #content {
            flex-grow: 1;
            height: 100%;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }

        #technical-panel {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        #technical-panel h2 {
            margin-top: 0;
            margin-bottom: 20px;
        }

        .technical-panel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            flex-grow: 1;
            overflow-y: auto;
        }

        .technical-profile-card {
            background-color: #2e2e2e;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .technical-profile-card:hover {
            transform: translateY(-5px);
        }

        .technical-profile-card h3 {
            color: #bb86fc;
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .profile-info {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 5px 10px;
            align-items: center;
            font-size: 12px;
        }

        .profile-info span:nth-child(odd) {
            font-weight: bold;
            color: #03dac6;
        }

        .profile-info span:nth-child(even) {
            text-align: right;
        }

        .availability {
            margin-top: 10px;
            padding: 3px 8px;
            border-radius: 4px;
            text-align: center;
            font-weight: bold;
            font-size: 12px;
        }

        .available {
            background-color: #4caf50;
            color: #ffffff;
        }

        .unavailable {
            background-color: #f44336;
            color: #ffffff;
        }

        .sidebar-menu {
            flex-grow: 1;

   
        }

        .logout-container {
            padding: 20px;
        }

        .logout-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 10px;
            background-color: #bb86fc;
            color: #121212;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .logout-button:hover {
            background-color: #9965f4;
        }

        .logout-button i {
            margin-right: 10px;
        }

        @media (max-width: 1400px) {
            .technical-panel-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 1100px) {
            .technical-panel-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .technical-panel-grid {
                grid-template-columns: 1fr;
            }
        }



 .role-selection-container {
            width: 80%;
            max-width: 1200px;
        }
 
        .role-selection-header {
            text-align: center;
            margin-bottom: 20px;
        }
 
        .role-selection-header h1 {
            font-size: 24px;
            color: #333333;
        }
 
        .role-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
 
        .role-card {
            background-color: #ffffff;
            border: 1px solid #ced4da;
            border-radius: 10px;
            padding: 20px;
            text-align: left;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
 
        .role-card h2 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #333333;
        }
 
        .role-card p {
            font-size: 14px;
            margin-bottom: 20px;
            color: #666666;
        }
 
        .role-card button {
            padding: 10px 20px;
            background-color: #6c757d;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 14px;
            cursor: pointer;
                margin-left: 27px;
        }
 
        .role-card button:hover {
            background-color: #5a6268;
        }
 
        .navigation-buttons {
            margin-top: 20px;
            text-align: center;
        }
 
        .navigation-buttons button {
            padding: 10px 20px;
            background-color: #6c757d;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 14px;
            cursor: pointer;
            margin: 0 10px;
        }
 
        .navigation-buttons button:hover {
            background-color: #5a6268;
        }
 
        /* Popup styling */
        .popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
        }
 
        .popup-content {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            width: 400px;
            text-align: center;
        }
 
        .popup-content h2 {
            margin-bottom: 20px;
            color: #333333;
        }
 
        .popup-content input[type="file"] {
            margin-bottom: 20px;
        }
 
        .popup-content button {
            padding: 10px 20px;
            background-color: #6c757d;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 14px;
            cursor: pointer;
            margin-left: 10px;
        }
 
        .popup-content button:hover {
            background-color: #5a6268;
        }
 
        .progress-container {
            width: 100%;
            background-color: #f3f3f3;
            border-radius: 5px;
            margin-top: 20px;
            height: 20px;
            overflow: hidden;
        }
 
        .progress-bar {
            height: 100%;
            background-color: #28a745;
            width: 0%;
            transition: width 0.4s ease;
        }



        #evaluation-result {
            width: 100%;
            height: 150px;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 14px;
            resize: none;
        }







    </style>
    <!-- //upload resume and evaluateResumeWithJobDescription -->


 <script src="https://sdk.amazonaws.com/js/aws-sdk-2.7.16.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
    <script>
        // AWS S3 configuration
        AWS.config.update({
            region: 'us-east-1', // e.g., 'us-east-2'
            credentials: new AWS.CognitoIdentityCredentials({
                IdentityPoolId: 'us-east-1:583ab747-d668-4305-8c02-0a7e39d4b791' // Replace with your identity pool ID
            })
        });
        var s3 = new AWS.S3({
            apiVersion: '2006-03-01',
            params: {Bucket: 'tagteam-bucket'}
        });
 
        function openPopup() {
            document.getElementById('resume-popup').style.display = 'flex';
        }
 
        function closePopup() {
            document.getElementById('resume-popup').style.display = 'none';
        }
 
      
 
async function uploadResume() {
    var fileInput = document.getElementById('resume');
    var file = fileInput.files[0];
    if (file && file.type === "application/pdf") {
        var originalFileName = file.name;
        var timestamp = Date.now();
        var fileName = timestamp + "_" + originalFileName;
        var progressBar = document.querySelector('.progress-bar');
        progressBar.style.width = '0%'; // Reset progress bar

        // Start progress bar animation
        animateProgressBar(progressBar);

        try {
            // Simulate upload delay (for demonstration purposes)
            await new Promise(resolve => setTimeout(resolve, 1000));

            // Upload the resume to GitHub
            var githubUrl = await uploadToGitHub(fileName, file);
            progressBar.style.width = '100%'; // Set progress bar to 100% on success

            if (githubUrl) {
                alert('Resume uploaded successfully: ' + file.name);
                closePopup();
                document.querySelector('.role-selection-container').style.display = 'none';
                document.querySelector('.container').style.display = 'block';

                // Send the resume URL to ChatPDF API for evaluation
                await evaluateResumeWithChatPDF(githubUrl);
                generateQuestions(); // Generate questions based on the role

            } else {
                alert('Failed to upload resume to GitHub.');
            }

        } catch (error) {
            console.error('Error uploading file: ', error);
            progressBar.style.width = '0%'; // Reset progress bar on failure
            alert('Failed to upload resume.');
        }
    } else {
        alert('Please upload a valid PDF file.');
    }
}

function animateProgressBar(progressBar) {
    var width = 0;
    var interval = setInterval(function() {
        if (width >= 90) { // Stop at 90% until upload finishes
            clearInterval(interval);
        } else {
            width++;
            progressBar.style.width = width + '%';
        }
    }, 20); // Adjust speed as necessary
}


async function uploadToGitHub(fileName, file) {
    const repoOwner = 'MohansaiAnde'; // Replace with your GitHub username
    const repoName = 'Tagteam'; // Replace with your repository name
    const githubToken = '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'; // Replace with your GitHub token

    const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/resumes/${fileName}`;

    // Read the file using FileReader
    const fileReader = new FileReader();

    return new Promise((resolve, reject) => {
        fileReader.onload = async function(event) {
            const base64Content = event.target.result.split(',')[1]; // Extract base64 content

            const response = await fetch(apiUrl, {
                method: 'PUT',
                headers: {
                    'Authorization': `Bearer ${githubToken}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    message: `Upload resume: ${fileName}`,
                    content: base64Content
                })
            });

            if (response.ok) {
                const responseData = await response.json();
                resolve(responseData.content.download_url); // Return the GitHub download URL
            } else {
                console.error('GitHub API error:', await response.text());
                reject(null);
            }
        };

        fileReader.onerror = function(error) {
            console.error('FileReader error:', error);
            reject(null);
        };

        fileReader.readAsDataURL(file); // Read file as Data URL (base64)
    });
}


async function evaluateResumeWithChatPDF(resumeUrl) {
    console.log(resumeUrl);
    try {
        const apiUrl = 'https://api.chatpdf.com/v1/sources/add-url';
        const apiKey = 'sec_ELtQJOZKC9dGCpaTRqb8kVzLSiOvfT89'; // Replace with your ChatPDF API key

        // Send the resume URL to ChatPDF API
        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `x-api-key ${apiKey}`
            },
            body: JSON.stringify({
                url: resumeUrl
            })
        });

        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const uploadData = await response.json();
        const sourceId = uploadData.sourceId;

        const evaluationResponse = await fetch(`https://api.chatpdf.com/v1/chats/message`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${apiKey}`
            },
            body: JSON.stringify({
                sourceId: sourceId,
                messages: [{
                    role: "user",
                    content: `
                    Analyze the given resume and provide a comprehensive evaluation based on the following criteria:

                    **Primary Cloud Platform:**
                    - Identify whether the candidate's primary cloud experience is with Azure or AWS.
                    - Note any secondary cloud platform experience.

                    **Current Job Information:**
                    - Current job position/title.
                    - Current job location (city and country).

                    **Experience Summary:**
                    - Overall years of professional experience.
                    - Years of experience specifically in cloud technologies.
                    - List key technologies and tools the candidate has worked with.

                    **Certifications:**
                    - List all relevant cloud, data, and engineering certifications.
                    - Note the level of certification (e.g., associate, professional, expert).

                    **Job Stability:**
                    - Evaluate how frequently the candidate changes jobs.
                    - Calculate average tenure per position.
                    - Highlight any significant gaps in employment.

                    **Skills Assessment:**
                    - Identify primary technical skills relevant to Cloud, Application, or Data Engineering.
                    - Note any additional skills that could be valuable for the role.

                    **Job Description (JD) Comparison:**
                    - Compare the candidate's skills and experience to the provided job description.
                    - Highlight areas where the candidate meets or exceeds requirements.
                    - Identify any gaps or areas where the candidate may need additional training.

                    **Summary:**
                    - Provide a concise summary of the candidate's profile, including:
                      - Overall suitability for the position.
                      - Key strengths.
                      - Areas for improvement or further development.
                      - Potential fit within the organization.

                    **Resume URL:**
                    ${resumeUrl}
                    `
                }]
            })
        });

        if (!evaluationResponse.ok) {
            throw new Error(`HTTP error! status: ${evaluationResponse.status}`);
        }

        const evaluationData = await evaluationResponse.json();

        // Display the evaluation result in the text box
        document.getElementById('evaluation-result').value = evaluationData.evaluationResult; // Adjust based on actual response structure

    } catch (error) {
        document.getElementById('evaluation-result').value = `Error during ChatPDF API request: ${error.message}`;
    }
}




 
 
    </script>



</head>
<body>
    <div id="login-container">
       <h1 style="text-align: center;">Welcome To Engineering Center's Recruitment Portal</h1>

        <form id="login-form">
            <select id="team-select" required="" style="width:270px; text-align: center; margin-inline: auto;">
                <option value="">Select Your Team</option>
                <option value="cloud">Cloud Engineering Team</option>
				<option value="cloud">App Engineering Team</option>
				<option value="cloud">Data Engineering Team</option>
                <option value="tag">TAG Team</option>
                <option value="hr">HR Team</option>
            </select>
            <input type="text" id="username" placeholder="Username" required style="width:250px;  text-align: center; margin-inline: auto;">
            <input type="password" id="password" placeholder="Password" required style="width:250px; text-align: center; margin-inline: auto;">
            <button type="submit">Login</button>
        </form>
    </div>

    <div id="portal-container">
        <div id="sidebar">
            <div class="sidebar-menu">
                <h2>Menu</h2>
                <div class="sidebar-option active" data-target="dashboard" data-tooltip="Dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </div>
                <div class="sidebar-option" data-target="jd-templates" data-tooltip="JD Templates">
                    <i class="fas fa-file-alt"></i>
                    <span>JD Templates</span>
                </div>
                <div class="sidebar-option" data-target="interviews" data-tooltip="Interviews">
                    <i class="fas fa-users"></i>
                    <span>Interviews</span>
                </div>
               <div class="sidebar-option" data-target="candidateInfo" data-tooltip="candidateInfo">
                    <i class="fas fa-users"></i>
                    <span>Assessment</span>
                </div>

               
               <div id="reports-option" class="sidebar-option" data-target="reports" data-tooltip="Reports">
                <i class="fas fa-chart-bar"></i>
                <span>Reports</span>
            </div>
            <div id="technical-panel-option" class="sidebar-option" data-target="technical-panel" data-tooltip="Technical Panel">
                <i class="fas fa-laptop-code"></i>
                <span>Technical Panel</span>
                </div>
            </div>
        </div>
        <button id="sidebar-toggle" title="Toggle Sidebar">
            <i class="fas fa-chevron-left"></i>
        </button>
        <div id="content">
            <div id="dashboard" class="active">
 <i class="fas fa-sign-out-alt" onclick="logout()" style="color:white;margin-left: 768px; color:#bb86fc;">Logout</i>

                 
                <h2>Dashboard</h2>
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <i class="fas fa-file-alt"></i>
                        <h3>Number of JDs</h3>
                        <p>15</p>
                    </div>
                    <div class="dashboard-card">
                        <i class="fas fa-upload"></i>
                        <h3>Profiles Uploaded</h3>
                        <p>87</p>
                    </div>
                    <div class="dashboard-card">
                        <i class="fas fa-user-check"></i>
                        <h3>Profiles Shortlisted</h3>
                        <p>32</p>
                    </div>
                    <div class="dashboard-card">
                        <i class="fas fa-user-times"></i>
                        <h3>Profiles Rejected</h3>
                        <p>55</p>
                    </div>
                </div>
                <div class="dashboard-charts">
                    <div class="dashboard-chart">
                        <h3>Application Status Overview</h3>
                        <div class="chart-container">
                            <canvas id="statusChart"></canvas>
                        </div>
                    </div>
                    <div class="dashboard-chart">
                        <h3>Applications per Job Role</h3>
                        <div class="chart-container">
                            <canvas id="roleChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div id="jd-templates">
                <h2>JD Templates</h2>
                <div class="job-card-container">
                    <div class="job-card">
                        <h3>DevOps Engineer</h3>
                        <p>DevOps engineers work on streamlining development and operations processes. They implement continuous integration and delivery pipelines, automate infrastructure provisioning, and manage containerization and orchestration tools like Docker and Kubernetes.</p>
                        <button class="view-jd-btn" data-job="DevOps">View JD</button>
                    </div>
                    <div class="job-card">
                        <h3>Platform Engineer</h3>
                        <p>Platform engineers design and maintain the infrastructure and tools that support software development teams. They create scalable, reliable platforms that enable developers to build, test, and deploy applications efficiently.</p>
                        <button class="view-jd-btn" data-job="Platform Engineering">View JD</button>
                    </div>
                    <div class="job-card">
                        <h3>Migration Engineer</h3>
                        <p>Migration specialists focus on transitioning systems and data between environments. They plan and execute complex migrations to cloud platforms, ensuring data integrity, minimal downtime, and seamless integration with existing systems.</p>
                        <button class="view-jd-btn" data-job="Migration">View JD</button>
                    </div>
                    <div class="job-card">
                        <h3>Cloud Ops Engineer</h3>
                        <p>CloudOps professionals manage and optimize cloud-based systems and services. They ensure high availability, performance, and security of cloud infrastructure, implement cost optimization strategies, and manage multi-cloud environments.</p>
                        <button class="view-jd-btn" data-job="CloudOps">View JD</button>
                    </div>
                </div>
            </div>





<div id="interviews">



    <div class="role-selection-container">
        <div class="role-selection-header">
            <h1 style="color:#bb86fc;">Select Your Role for the Interview</h1>
        </div>
 
        <div class="role-cards">
            <div class="role-card">
                <h2>DevOps Engineer</h2>
                <p>Responsible for overseeing the code releases, combining an understanding of both engineering and coding. DevOps engineers work with various departments to create and develop systems within a company.</p>
                <button onclick="openPopup()" style="margin-left: 46px;" >Select</button>
            </div>
            <div class="role-card">
                <h2>Platform Engineer</h2>
                <p>Innovates and builds the underlying systems that power application development and deployment. Focuses on optimizing platform performance and scalability.</p>
                <button onclick="openPopup()" style="margin-left: 51px;">Select</button>
            </div>
            <div class="role-card">
                <h2>Cloudops Engineer</h2>
                <p>Manages cloud infrastructure and services, ensuring smooth deployment, support, and monitoring of cloud environments. Works on automating cloud operations and optimizing costs.</p>
                <button onclick="openPopup()">Select</button>
            </div>
            <div class="role-card">
                <h2>Site Reliability Engineer</h2>
                <p>Works to create a bridge between development and IT operations, focusing on creating scalable and highly reliable software systems. Monitors system performance and ensures service availability.</p>
                <button onclick="openPopup()">Select</button>
            </div>
        </div>
        
    </div>

    



 
    <div id="resume-popup" class="popup">
        <div class="popup-content">
            <h2>Upload Your Resume</h2>
            <input type="file" id="resume" accept=".pdf" />
            <div class="progress-container">
                <div class="progress-bar"></div>
            </div>
            <br />
            <button onclick="uploadResume()">Upload</button>
            <button onclick="closePopup()">Cancel</button>
        </div>
    </div>
    <div>
        <textarea id="evaluation-result" readonly></textarea>
    </div>

    <div class="container">
        <div class="header">
            <h1 style="color: #bb86fc;">TAG Team Cloud Operations</h1>
            
        </div>

        <div class="question-generation">
            <label for="role-select">Select Job Role:</label>
            <select id="role-select">
                <option value="DevOps Engineer">DevOps Engineer</option>
                <option value="Cloud Architect">Cloud Architect</option>
                <option value="Security Engineer">Security Engineer</option>
                <option value="Data Engineer">Data Engineer</option>
                <option value="Software Engineer">Software Engineer</option>
            </select>
            <button onclick="generateQuestions()">Generate Questions</button>
        </div>

        <div id="questions-container" class="questions-list">
            <h3>Generated Questions</h3>
        </div>
    </div>
    <script>
        function generateQuestions() {
            var role = document.getElementById('role-select').value;
            var questionsContainer = document.getElementById('questions-container');
            var questionsHTML = '';

            if (role === 'DevOps Engineer') {
                questionsHTML = `
                    <div class="question-item">
                        <label>What are the key components of a cloud architecture?</label>
                        <textarea name="question1" rows="4"></textarea>
                    </div>
                    <div class="question-item">
                        <label>Explain the concept of infrastructure as code (IaC).</label>
                        <textarea name="question2" rows="4"></textarea>
                    </div>
                    <div class="question-item">
                        <label>How do you ensure the security of cloud-based applications?</label>
                        <textarea name="question3" rows="4"></textarea>
                    </div>
                    <div class="question-item">
                        <label>Describe a challenging problem you solved in a cloud migration project.</label>
                        <textarea name="question4" rows="4"></textarea>
                    </div>
                    <div class="question-item">
                        <label>What tools and technologies do you use for continuous integration and deployment?</label>
                        <textarea name="question5" rows="4"></textarea>
                    </div>
                `;
            }

            questionsContainer.innerHTML = `
                <form id="questions-form">
                    ${questionsHTML}
                    <div class="submit-button">
                        <button type="submit">Submit Answers</button>
                    </div>
                </form>
            `;

            document.getElementById('questions-form').onsubmit = function(e) {
                e.preventDefault();
                alert('Answers submitted successfully!');
                // Handle form submission, e.g., send data to a server.
            };
        }

        // Close the modal when the user clicks the close button or outside the modal
        window.onclick = function(event) {
            var modal = document.getElementById('uploadModal');
            if (event.target === modal || event.target.className === 'close') {
                modal.style.display = 'none';
            }
        };
    </script>
    </script>
 






               <h2>Interview</h2>
                <div class="interview-header">
                    <div class="filters">
                        <select class="filter-select" id="account-filter">
                            <option value="">All Accounts</option>
                            <!-- Add account options here -->
                        </select>
                        <select class="filter-select" id="project-filter">
                            <option value="">All Projects</option>
                            <!-- Add project options here -->
                        </select>
                        <select class="filter-select" id="role-filter">
                            <option value="">All Roles</option>
                            <!-- Add role options here -->
                        </select>
                    </div>
                    <select class="time-range" id="time-range">
                        <option value="week">One Week</option>
                        <option value="month">One Month</option>
                        <option value="90days">90 Days</option>
                    </select>
                </div>
                <div class="kanban-board">
                    <div class="kanban-column">
                        <div class="kanban-column-header">Pre-screening</div>
                        <div class="kanban-column-content" id="pre-screening">
                            <!-- Pre-screening cards will be added here -->
                        </div>
                    </div>
                    <div class="kanban-column">
                        <div class="kanban-column-header">Technical Round</div>
                        <div class="kanban-column-content" id="technical-round">
                            <!-- Technical round cards will be added here -->
                        </div>
                    </div>
                    <div class="kanban-column">
                        <div class="kanban-column-header">Fitment Round</div>
                        <div class="kanban-column-content" id="fitment-round">
                            <!-- Fitment round cards will be added here -->
                        </div>
                    </div>
                    <div class="kanban-column">
                        <div class="kanban-column-header">HR Round</div>
                        <div class="kanban-column-content" id="hr-round">
                            <!-- HR round cards will be added here -->
                        </div>
                    </div>
                    <div class="kanban-column">
                        <div class="kanban-column-header">Offer Released</div>
                        <div class="kanban-column-content" id="offer-released">
                            <!-- Offer released cards will be added here -->
                        </div>
                    </div>
                    <div class="kanban-column">
                        <div class="kanban-column-header">On-boarded</div>
                        <div class="kanban-column-content" id="on-boarded">
                            <!-- On-boarded cards will be added here -->
                        </div>
                    </div>
                </div>
            </div>

<div id="candidateInfo">
   <div class="candidateInfo" style="
    background-color: white;">
        <h1>Assessment & Feedback Form</h1>
        <form id="assessmentForm">
            <div class="candidateInfo">
                <h2>Candidate Information</h2>
                <div class="form-group">
                    <label for="candidateName" style="color:black;">Candidate Name</label>
                    <input type="text" id="candidateName" class="candidate" name="candidateName" >
                </div>
                <div class="form-group">
                    <label for="jobRole" style="color:black;">Job Role</label>
                    <select id="jobRole" name="jobRole" required class="candidate">
                        <option value="">Select Job Role</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="totalExperience" style="color:black;">Total Experience (years)</label>
                    <input type="number" id="totalExperience" name="totalExperience" min="0" step="0.5" required class="candidate" >
                </div>
                <div class="form-group">
                    <label for="cloudExperience" style="color:black;">Total Experience in Cloud (years)</label>
                    <input type="number" id="cloudExperience" name="cloudExperience" min="0" step="0.5" required class="candidate">
                </div>
                <div class="form-group">
                    <label for="primaryCloud" style="color:black;">Primary Cloud</label>
                    <select id="primaryCloud" name="primaryCloud" required class="candidate">
                        <option value="">Select Primary Cloud</option>
                        <option value="azure">Microsoft Azure</option>
                        <option value="aws">AWS</option>
                        <option value="gcp">GCP</option>
                    </select>
                </div>
            </div>

            <div id="technicalAssessment" class="hidden">
                <h2>Technical Assessment</h2>
                <div id="tabsList" class="tabs"></div>
                <div id="tabContent"></div>
            </div>

            <div class="button-group">
                <button type="button" id="prevBtn" class="btn btn-secondary hidden" style="background-color:#bb86fc;">Previous</button >
                <button type="button" id="nextBtn" class="btn btn-primary" style="background-color:#bb86fc;">Next</button>
                <button type="submit" id="submitBtn" class="btn btn-primary hidden" style="background-color:#bb86fc;">Submit</button>
            </div>
        </form>
    </div>
</div>
    







            <div id="reports">
                <h2>Reports</h2>
                <p>Generate and view various reports related to hiring and job profiles.</p>
            </div>
            <div id="technical-panel">
                <h2>Technical Panel</h2>
                <div class="technical-panel-grid" id="technical-profiles">
                    <!-- Technical profile cards will be added here -->
                </div>
            </div>
        </div>
    </div>

    <div id="jd-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="jd-content"></div>
        </div>
    </div>

    <script>
        const loginForm = document.getElementById('login-form');
        const loginContainer = document.getElementById('login-container');
        const portalContainer = document.getElementById('portal-container');
        const sidebarOptions = document.querySelectorAll('.sidebar-option');
        const contentSections = document.querySelectorAll('#content > div');
        const reportsOption = document.getElementById('reports-option');
    const technicalPanelOption = document.getElementById('technical-panel-option');

        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
const team = document.getElementById('team-select').value;

 const technicalPanelOption = document.getElementById('technical-panel-option');
        const reportsOption = document.getElementById('reports-option');



            if (username === 'admin' && password === 'admin') {
             
                loginContainer.style.display = 'none';
               portalContainer.style.setProperty('display','flex','important');
if (team === 'cloud' || team === 'app' || team === 'data') {
                technicalPanelOption.style.display = 'none';
                reportsOption.style.display = 'none';
            }

 
            } else {
                alert('Invalid credentials. Please try again.');
            }
        });

        sidebarOptions.forEach(option => {
            option.addEventListener('click', function() {
                const target = this.getAttribute('data-target');
                sidebarOptions.forEach(opt => opt.classList.remove('active'));
                this.classList.add('active');
                contentSections.forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById(target).classList.add('active');
            });
        });

        const viewJDButtons = document.querySelectorAll('.view-jd-btn');
        const jdModal = document.getElementById('jd-modal');
        const jdContent = document.getElementById('jd-content');
        const closeBtns = document.getElementsByClassName('close');

        const jobDescriptions = {
            'DevOps': `
                <h2>DevOps Engineer</h2>
                <p>DevOps engineers work on streamlining development and operations processes. They implement continuous integration and delivery pipelines, automate infrastructure provisioning, and manage containerization and orchestration tools like Docker and Kubernetes.</p>
                <h3>Responsibilities:</h3>
                <ul>
                    <li>Implement and manage CI/CD pipelines</li>
                    <li>Automate infrastructure provisioning and management</li>
                    <li>Optimize application deployment processes</li>
                    <li>Manage and scale containerized applications</li>
                    <li>Monitor system performance and troubleshoot issues</li>
                </ul>
                <h3>Requirements:</h3>
                <ul>
                    <li>Strong experience with DevOps tools and practices</li>
                    <li>Proficiency in scripting languages (e.g., Python, Bash)</li>
                    <li>Experience with cloud platforms (AWS, Azure, or GCP)</li>
                    <li>Knowledge of containerization and orchestration technologies</li>
                    <li>Excellent problem-solving and communication skills</li>
                </ul>
            `,
            'Platform Engineering': `
                <h2>Platform Engineer</h2>
                <p>Platform engineers design and maintain the infrastructure and tools that support software development teams. They create scalable, reliable platforms that enable developers to build, test, and deploy applications efficiently.</p>
                <h3>Responsibilities:</h3>
                <ul>
                    <li>Design and implement scalable platform architectures</li>
                    <li>Develop and maintain internal developer tools</li>
                    <li>Optimize platform performance and reliability</li>
                    <li>Implement security best practices across the platform</li>
                    <li>Collaborate with development teams to improve workflows</li>
                </ul>
                <h3>Requirements:</h3>
                <ul>
                    <li>Strong background in software engineering and system design</li>
                    <li>Experience with cloud-native technologies and microservices</li>
                    <li>Proficiency in at least one programming language</li>
                    <li>Knowledge of infrastructure-as-code and configuration management tools</li>
                    <li>Excellent problem-solving and analytical skills</li>
                </ul>
            `,
            'CloudOps': `
                <h2>Cloud Ops Engineer</h2>
                <p>CloudOps professionals manage and optimize cloud-based systems and services. They ensure high availability, performance, and security of cloud infrastructure, implement cost optimization strategies, and manage multi-cloud environments.</p>
                <h3>Responsibilities:</h3>
                <ul>
                    <li>Manage and optimize cloud infrastructure</li>
                    <li>Implement and maintain cloud security measures</li>
                    <li>Monitor cloud performance and costs</li>
                    <li>Troubleshoot and resolve cloud-related issues</li>
                    <li>Implement disaster recovery and backup strategies</li>
                </ul>
                <h3>Requirements:</h3>
                <ul>
                    <li>Strong experience with major cloud platforms (AWS, Azure, or GCP)</li>
                    <li>Knowledge of cloud architecture and best practices</li>
                    <li>Experience with infrastructure-as-code tools</li>
                    <li>Understanding of networking and security in cloud environments</li>
                    <li>Excellent problem-solving and communication skills</li>
                </ul>
            `,
            'Migration': `
                <h2>Migration Engineer</h2>
                <p>Migration specialists focus on transitioning systems and data between environments. They plan and execute complex migrations to cloud platforms, ensuring data integrity, minimal downtime, and seamless integration with existing systems.</p>
                <h3>Responsibilities:</h3>
                <ul>
                    <li>Plan and execute migration projects</li>
                    <li>Assess current infrastructure and applications for migration readiness</li>
                    <li>Develop migration strategies and roadmaps</li>
                    <li>Ensure data integrity and security during migrations</li>
                    <li>Collaborate with various teams to ensure smooth transitions</li>
                </ul>
                <h3>Requirements:</h3>
                <ul>
                    <li>Experience in managing complex migration projects</li>
                    <li>Strong understanding of cloud platforms and migration tools</li>
                    <li>Knowledge of database technologies and data transfer methods</li>
                    <li>Familiarity with application architectures and integration patterns</li>
                    <li>Excellent project management and communication skills</li>
                </ul>
            `
        };

        viewJDButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.stopPropagation();
                const job = this.getAttribute('data-job');
                jdContent.innerHTML = jobDescriptions[job];
                jdModal.style.display = 'block';
            });
        });

        Array.from(closeBtns).forEach(btn => {
            btn.onclick = function() {
                jdModal.style.display = 'none';
            }
        });

        window.onclick = function(event) {
            if (event.target == jdModal) {
                jdModal.style.display = 'none';
            }
        }

        // Dashboard charts
        const statusCtx = document.getElementById('statusChart').getContext('2d');
        const roleCtx = document.getElementById('roleChart').getContext('2d');

        new Chart(statusCtx, {
            type: 'doughnut',
            data: {
                labels: ['Shortlisted', 'Rejected', 'In Review'],
                datasets: [{
                    data: [32, 55, 20],
                    backgroundColor: ['#03dac6', '#cf6679', '#bb86fc']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: {
                            color: '#e0e0e0'
                        }
                    }
                }
            }
        });

        new Chart(roleCtx, {
            type: 'bar',
            data: {
                labels: ['DevOps', 'Platform', 'Migration', 'Cloud Ops'],
                datasets: [{
                    label: 'Applications',
                    data: [25, 30, 15, 17],
                    backgroundColor: '#bb86fc'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            color: '#e0e0e0'
                        }
                    },
                    x: {
                        ticks: {
                            color: '#e0e0e0'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // Sidebar toggle functionality
        const sidebar = document.getElementById('sidebar');
        const content = document.getElementById('content');
        const sidebarToggle = document.getElementById('sidebar-toggle');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            content.classList.toggle('expanded');
            sidebarToggle.classList.toggle('collapsed');
            
            if (sidebar.classList.contains('collapsed')) {
                sidebarToggle.innerHTML = '<i class="fas fa-chevron-right"></i>';
            } else {
                sidebarToggle.innerHTML = '<i class="fas fa-chevron-left"></i>';
            }
        });

        // Auto-hide sidebar on smaller screens
        function autoHideSidebar() {
            if (window.innerWidth <= 768) {
                sidebar.classList.add('collapsed');
                content.classList.add('expanded');
                sidebarToggle.classList.add('collapsed');
                sidebarToggle.innerHTML = '<i class="fas fa-chevron-right"></i>';
            } else {
                sidebar.classList.remove('collapsed');
                content.classList.remove('expanded');
                sidebarToggle.classList.remove('collapsed');
                sidebarToggle.innerHTML = '<i class="fas fa-chevron-left"></i>';
            }
        }

        window.addEventListener('resize', autoHideSidebar);
        autoHideSidebar(); // Call on initial load

        // Sample data for interviews
        const interviewData = [
            { id: 1, name: "John Doe", role: "DevOps Engineer", account: "Account A", project: "Project X", stage: "pre-screening" },
            { id: 2, name: "Jane Smith", role: "Cloud Architect", account: "Account B", project: "Project Y", stage: "technical-round" },
            { id: 3, name: "Bob Johnson", role: "Platform Engineer", account: "Account A", project: "Project Z", stage: "fitment-round" },
            // Add more sample data as needed
        ];

        function renderInterviewCards() {
            const stages = ['pre-screening', 'technical-round', 'fitment-round', 'hr-round', 'offer-released', 'on-boarded'];
            
            stages.forEach(stage => {
                const column = document.getElementById(stage);
                column.innerHTML = ''; // Clear existing cards
                
                const stageData = interviewData.filter(interview => interview.stage === stage);
                stageData.forEach(interview => {
                    const card = document.createElement('div');
                    card.className = 'kanban-card';
                    card.innerHTML = `
                        <h4>${interview.name}</h4>
                        <p>${interview.role}</p>
                        <p>${interview.account} - ${interview.project}</p>
                    `;
                    column.appendChild(card);
                });
            });
        }

        // Initial render
        renderInterviewCards();

        // Add event listeners for filters and time range
        document.getElementById('account-filter').addEventListener('change', renderInterviewCards);
        document.getElementById('project-filter').addEventListener('change', renderInterviewCards);
        document.getElementById('role-filter').addEventListener('change', renderInterviewCards);
        document.getElementById('time-range').addEventListener('change', renderInterviewCards);

        // Sample data for technical profiles
        const technicalProfiles = [
            { name: "Vardhan", l1Technical: "Available", azure: "Expert", aws: "Proficient", account: "Account A", available: true },
            { name: "Prayanka", l1Technical: "Available", azure: "Proficient", aws: "Expert", account: "Account B", available: true },
            { name: "SaiVamsi", l1Technical: "Available", azure: "Beginner", aws: "Proficient", account: "Account C", available: true },
            { name: "Tarun", l1Technical: "Available", azure: "Expert", aws: "Expert", account: "Account A", available: true },
            { name: "Sai Kishore", l1Technical: "Available", azure: "Proficient", aws: "Beginner", account: "Account B", available: true },
            { name: "Anirban", l1Technical: "Available",  azure: "Expert", aws: "Proficient", account: "Account C", available: true },
            { name: "Abhijit", l1Technical: "Available",  azure: "Proficient", aws: "Proficient", account: "Account A", available: true },
            { name: "Sankara", l1Technical: "Available",  azure: "Beginner", aws: "Expert", account: "Account B", available: true },
            { name: "Srinivas", l1Technical: "Available",  azure: "Expert", aws: "Expert", account: "Account C", available: true },
            { name: "Mohit", l1Technical: "Available",  azure: "Proficient", aws: "Proficient", account: "Account A", available: true },
            { name: "Rajesh", l1Technical: "Available", azure: "Expert", aws: "Beginner", account: "Account B", available: true },
            { name: "Priya", l1Technical: "Out of office",  azure: "Proficient", aws: "Expert", account: "Account C", available: false },
            { name: "Vikram", l1Technical: "Available",  azure: "Beginner", aws: "Proficient", account: "Account A", available: true },
            { name: "Neha", l1Technical: "Available",  azure: "Expert", aws: "Expert", account: "Account B", available: true },
            { name: "Arun", l1Technical: "Out of office",  azure: "Proficient", aws: "Beginner", account: "Account C", available: false },
            { name: "Kavita", l1Technical: "Available",  azure: "Expert", aws: "Proficient", account: "Account A", available: true },
        ];

        function renderTechnicalProfiles() {
            const profilesContainer = document.getElementById('technical-profiles');
            profilesContainer.innerHTML = ''; // Clear existing cards

            technicalProfiles.forEach(profile => {
                const card = document.createElement('div');
                card.className = 'technical-profile-card';
                card.innerHTML = `
                    <h3>${profile.name}</h3>
                    <div class="profile-info">
                        <span>L1 Technical:</span><span>${profile.l1Technical}</span>
                        <span>Azure:</span><span>${profile.azure}</span>
                        <span>AWS:</span><span>${profile.aws}</span>
                        <span>Account:</span><span>${profile.account}</span>
                    </div>
                    <div class="availability ${profile.available ? 'available' : 'unavailable'}">
                        ${profile.available ? 'Available' : 'Unavailable'}
                    </div>
                `;
                profilesContainer.appendChild(card);
            });
        }

        // Initial render
        renderTechnicalProfiles();






 const jobRoles = [
            "Platform Engineering Engineer", "Platform Engineering Sr. Engineer", "Platform Engineering Lead",
            "Platform Engineering Architect", "Platform Engineering Manager", "DevSecOps Engineer",
            "DevSecOps Sr. Engineer", "DevSecOps Lead", "DevSecOps Architect", "DevSecOps Manager",
            "Cloud Migration Engineer", "Cloud Migration Sr. Engineer", "Cloud Migration Lead",
            "Cloud Migration Architect", "Cloud Migration Manager", "CloudOps Engineer",
            "CloudOps Sr. Engineer", "CloudOps Lead", "CloudOps Architect", "CloudOps Manager"
        ];

        const technicalAreas = [
            "Cloud Infrastructure", "Design & Architecture", "DevSecOps", "IaC", "Platform Engineering",
            "Observability", "Exposure to Open-Source Tools", "Team Handling", "Root Cause Analysis",
            "FinOps", "Overall Solution Approach"
        ];

        const form = document.getElementById('assessmentForm');
        const candidateInfo = document.getElementById('candidateInfo');
        const technicalAssessment = document.getElementById('technicalAssessment');
        const tabsList = document.getElementById('tabsList');
        const tabContent = document.getElementById('tabContent');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');

        let currentStep = 0;
        let currentTab = 0;

        // Populate Job Roles
        const jobRoleSelect = document.getElementById('jobRole');
        jobRoles.forEach(role => {
            const option = document.createElement('option');
            option.value = role;
            option.textContent = role;
            jobRoleSelect.appendChild(option);
        });

        // Create tabs
        technicalAreas.forEach((area, index) => {
            const tab = document.createElement('button');
            tab.type = 'button';
            tab.textContent = area;
            tab.className = 'tab';
            tab.onclick = () => showTab(index);
            tabsList.appendChild(tab);
        });

        function showTab(index) {
            currentTab = index;
            const tabs = tabsList.getElementsByClassName('tab');
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
                if (i === index) {
                    tabs[i].classList.add('active');
                }
            }
            renderTabContent();
        }

        function renderTabContent() {
            const area = technicalAreas[currentTab];
            tabContent.innerHTML = `
                <div class="form-group">
                    <label for="${area}Rating" style="color:black;">Rating</label>
                    <select id="${area}Rating" name="${area}Rating" required class="candidate">
                        <option value="">Select Rating</option>
                        ${[1, 2, 3, 4, 5].map(rating => `<option value="${rating}">${rating}</option>`).join('')}
                    </select>
                </div>
                <div class="form-group">
                    <label for="${area}Feedback" style="color:black;">Feedback</label>
                    <textarea id="${area}Feedback" name="${area}Feedback" rows="3" required class="candidate"></textarea>
                </div>
            `;
        }

        function showStep(step) {
            if (step === 0) {
                candidateInfo.classList.remove('hidden');
                technicalAssessment.classList.add('hidden');
                prevBtn.classList.add('hidden');
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            } else {
                candidateInfo.classList.add('hidden');
                technicalAssessment.classList.remove('hidden');
                prevBtn.classList.remove('hidden');
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
                showTab(0);
            }
        }

        nextBtn.addEventListener('click', () => {
            if (validateCandidateInfo()) {
                currentStep = 1;
                showStep(currentStep);
            } else {
                alert('Please fill in all fields before proceeding.');
            }
        });

        prevBtn.addEventListener('click', () => {
            currentStep = 0;
            showStep(currentStep);
        });

        function validateCandidateInfo() {
            return form.candidateName.value &&
                   form.jobRole.value &&
                   form.totalExperience.value &&
                   form.cloudExperience.value &&
                   form.primaryCloud.value;
        }

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            if (validateForm()) {
                const formData = new FormData(form);
                const data = {
                    candidateInfo: {
                        name: formData.get('candidateName'),
                        jobRole: formData.get('jobRole'),
                        totalExperience: formData.get('totalExperience'),
                        cloudExperience: formData.get('cloudExperience'),
                        primaryCloud: formData.get('primaryCloud')
                    },
                    technicalAssessment: {}
                };
                technicalAreas.forEach(area => {
                    data.technicalAssessment[area] = {
                        rating: formData.get(`${area}Rating`),
                        feedback: formData.get(`${area}Feedback`)
                    };
                });
                console.log('Form submitted:', data);
                alert('Form submitted successfully!');
            } else {
                alert('Please fill in all fields before submitting.');
            }
        });

        function validateForm() {
            if (!validateCandidateInfo()) return false;
            for (const area of technicalAreas) {
                if (!form[`${area}Rating`].value || !form[`${area}Feedback`].value) return false;
            }
            return true;
        }

        showStep(currentStep);
function logout() {
    // Clear session storage
    sessionStorage.removeItem('user');
    
    // Hide the portal/dashboard content
    document.getElementById('portal-container').style.display = 'none';
    
    // Show the login form
    document.getElementById('login-container').style.display = 'block';
    
    // Optionally, redirect to the login page if its on a separate URL
    // window.location.href = 'login.html';
 location.reload();

 
}

    </script>
</body>
</html>